{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
  <div class="card mx-auto" style="max-width: 600px;">
    <!-- Customer Details -->
    <div class="card-body text-start">
      <h3 class="card-title">{{ customer['name'] }}</h3>
      <p class="card-text"><strong>Customer ID:</strong> {{ customer['customer_id'] }}</p>
      <p class="card-text"><strong>Email:</strong> {{ customer['email'] }}</p>
      <p class="card-text"><strong>Phone:</strong> {{ customer.get('phone', '-') }}</p>
      <p class="card-text"><strong>Status:</strong> {{ customer['status'] }}</p>

      <p class="card-text"><strong>Address:</strong></p>
      <ul class="list-unstyled ms-3">
        <li><strong>Street:</strong> {{ customer.get('address', {}).get('street', '-') }}</li>
        <li><strong>City:</strong> {{ customer.get('address', {}).get('city', '-') }}</li>
        <li><strong>State:</strong> {{ customer.get('address', {}).get('state', '-') }}</li>
        <li><strong>Zip Code:</strong> {{ customer.get('address', {}).get('zip', '-') }}</li>
      </ul>

      <!-- Action Buttons -->
      <a href="{{ url_for('customers.customers') }}" class="btn btn-secondary mt-3">Back to Customers</a>
      {% if session['role']=='admin' %}
      <a href="{{ url_for('customers.customer_edit', customer_id=customer['customer_id']) }}" class="btn btn-secondary mt-3">Edit</a>
      <form action="{{ url_for('customers.customer_delete', customer_id=customer['customer_id']) }}" method="POST" class="d-inline">
        <button type="submit" class="btn btn-danger mt-3"
                onclick="return confirm('Are you sure you want to delete this customer?');">
          Delete
        </button>
      </form>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
